extends ../layout

block head
	script.
		var user = !{JSON.stringify(user)};
	script(src="/javascripts/controllers/userViewCtrl.js")
	title {{user.name}}

block content
	div(ng-controller="userViewCtrl")
		h1 {{user.name}}

		h2 Polls
		table.table.table-bordered(ng-switch="user.Polls.length")
			tr(ng-switch-when="0"): td No polls found.
				tr(ng-switch-default)
					th(width="60%") Name
					th(width="20%") Start
					th(width="20%") End
				tr(ng-switch-default ng-repeat="poll in user.Polls")
					td: a(href="/polls/{{poll.id}}") {{poll.name}}
					td {{poll.createdAt}}
					td {{poll.closeTime}}